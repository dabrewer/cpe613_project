#!/bin/bash

####################################################################################################
# DEFINITIONS
####################################################################################################
OUT_PATH=output/gpu/$GPU_TYPE/
BIN_PATH=bin

####################################################################################################
# Run characteristics
####################################################################################################
GPU_SIZE_RANGE="8 16 24 32 40 64 96 128 256 512 1024"

####################################################################################################
# PROGRAM EXECUTION FUNCTIONS
####################################################################################################
for i in {1..10}
do
    for s in $GPU_SIZE_RANGE
    do
        ./bin/main_gpu ${s} 8 8 8 $OUT_PATH/${s}.v $OUT_PATH/${s}.e $OUT_PATH/${s}.s >> $OUT_PATH/gpu_${i}_${s}.out
        shasum $OUT_PATH/${s}.v | awk '{print $1}' >> $OUT_PATH/${s}.vsum
        shasum $OUT_PATH/${s}.e | awk '{print $1}' >> $OUT_PATH/${s}.esum
    done
done
